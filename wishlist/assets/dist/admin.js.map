{"version":3,"file":"admin.js","sources":["../src/scripts/admin.js"],"sourcesContent":["/* global jQuery, wp */\n\nconst sections = document.querySelectorAll('.MSettingSection')\n\nif (sections.length) {\n  let tabs = document.querySelectorAll('.nav-tab')\n\n  /* Active tab */\n  let activeTab\n  activeTab = localStorage.getItem('activeTab')\n\n  if (window.location.hash) {\n    activeTab = window.location.hash\n    localStorage.setItem('activeTab', activeTab)\n  }\n\n  /* Initialize active section */\n  if (activeTab) {\n    tabs.forEach(tab => {\n      tab.getAttribute('href') === activeTab\n      && (tab.classList.add('nav-tab-active'))\n    })\n\n    sections.forEach(section => {\n      `#${section.id}` === activeTab && (section.style.display = 'block')\n    })\n  } else {\n    sections[0] && (sections[0].style.display = 'block')\n    tabs[0] && (tabs[0].classList.add('nav-tab-active'))\n  }\n\n  /* Change active tab and section */\n  tabs.forEach(tab => {\n    tab.addEventListener('click', evt => {\n      evt.preventDefault()\n\n      localStorage.setItem('activeTab', tab.getAttribute('href'))\n\n      tabs.forEach(tab => tab.classList.remove('nav-tab-active'))\n      tab.classList.add('nav-tab-active')\n\n      sections.forEach(section => {\n        section.style.display = 'none'\n\n        if (`#${section.id}` === tab.getAttribute('href')) {\n          section.style.display = 'block'\n        }\n      })\n    })\n  })\n}\n\njQuery(document).ready(function ($) {\n\n  /***** Colour picker *****/\n  $('.MColorPickerInput').wpColorPicker()\n\n  /* File input */\n  $('.MFileInputBrowse').on('click', function (event) {\n    event.preventDefault()\n\n    let self = $(this)\n    let attachment\n\n    // Create the media frame.\n    // eslint-disable-next-line camelcase\n    let file_frame = wp.media.frames.file_frame = wp.media({\n      title: self.data('uploader_title'),\n      button: {\n        text: self.data('uploader_button_text')\n      },\n      multiple: false\n    })\n\n    // eslint-disable-next-line camelcase\n    file_frame.on('select', function () {\n      // eslint-disable-next-line camelcase\n      attachment = file_frame.state().get('selection').first().toJSON()\n      self.prev('.MFileInput').val(attachment.url).change()\n    })\n\n    // Finally, open the modal\n    // eslint-disable-next-line camelcase\n    file_frame.open()\n  })\n\n})\n"],"names":["sections","document","querySelectorAll","length","tabs","activeTab","localStorage","getItem","window","location","hash","setItem","forEach","tab","getAttribute","classList","add","section","id","style","display","addEventListener","evt","preventDefault","remove","jQuery","ready","$","wpColorPicker","on","event","self","attachment","file_frame","wp","media","frames","title","data","button","text","multiple","state","get","first","toJSON","prev","val","url","change","open"],"mappings":"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"}